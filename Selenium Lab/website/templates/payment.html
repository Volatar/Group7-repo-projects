<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mockbuster - Payment</title>
    <link rel="stylesheet" href="/static/stylesheet.css">
</head>
<body>
<header>
    <h1>Mockbuster</h1>
</header>
    <main>
        <h2>Finish and Pay</h2>
        <div id="cart">
            <ul>
                {% for movie in cart %}
                    <li>{{ movie }}</li>
                {% endfor %}
            </ul>
        </div>

        <p>Total Number of Videos: {{ num_videos }}</p>
        <p>Total Cost for 3 Days: ${{ total_cost }}0</p>
        <form method="post" action="/finish_pay">
            <input type="submit" value="OK">
        </form>
        <br />
        <form method="post" action="/get_cart">
            <input type=submit value="Return to Cart">
        </form>

    </main>
    <footer>
        <div class="contact-info">
            <h3>Contact Information</h3>
            <p>Email: info@mockbusterrental.com</p>
            <p>Phone: 123-456-7890</p>
        </div>
        <div class="social-media">
            <h3>Follow Us</h3>
            <a href="#">Facebook</a>
            <a href="#">Twitter</a>
            <a href="#">Instagram</a>
        </div>
    </footer>
	<script>
        // total price and confirmation

        const videoPrices = {
            // prices for each video
            video1: 3.00,
            video2: 4.00,
        };

        const cartList = document.querySelectorAll('#cart ul li');
        let totalPrice = 0;

        // Calculate the total price
        cartList.forEach(item => {
            const videoId = item.textContent.trim();
            totalPrice += videoPrices[videoId];
        });

        // Display the total price
        const priceElement = document.getElementById('price');
        priceElement.textContent = `$${(totalPrice * 3).toFixed(2)}`;

        // Handle user confirmation
        const confirmButton = document.getElementById('confirm-button');
        confirmButton.addEventListener('click', () => {
            const confirmation = confirm(`Total Price: $${(totalPrice * 3).toFixed(2)}\n\nIs this OK?`);
            if (confirmation) {
                // Redirect to the home page or perform other actions
                window.location.href = '/'; // Change the URL to your home page
            }
        });
    </script>
</body>
</html>